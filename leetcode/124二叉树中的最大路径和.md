```
ğŸ‘
```

è®°å½•ä¸€ä¸‹æœ¬é¢˜çš„æ„Ÿå—ä»¥åŠæ€è€ƒè¿‡ç¨‹ï¼Œç†è§£é€’å½’æ›´æ·±åˆ»ä¸€ç‚¹ï¼š

é¦–å…ˆæƒ³åˆ°çš„æ˜¯ï¼Œæˆ‘å¯ä»¥å¾ˆå®¹æ˜“çš„ç”¨é€’å½’è®¡ç®—äºŒå‰æ ‘æ‰€æœ‰èŠ‚ç‚¹çš„å’Œï¼Œè€Œåœ¨æœ¬é¢˜ä¸­ï¼Œå°±éœ€è¦æ¯”è¾ƒè·¯å¾„çš„å¤§å°æ¥è®¾è®¡é€’å½’ã€‚
å…¶å®äºŒå‰æ ‘çš„é€’å½’éå†ï¼Œåªè¦åŒ…å«å¦‚ä¸‹ä»£ç ï¼Œå°±å¯ä»¥äº†ï¼Œè€Œé’ˆå¯¹ä¸åŒçš„é¢˜ç›®ï¼Œ
æˆ‘ä»¬ä¼šè®¾ç½®ä¸€äº›é€’å½’çš„è¿”å›å€¼ï¼ˆåŒ…æ‹¬ç»ˆæ­¢æ¡ä»¶ï¼‰ï¼Œè®¾è®¡é€’å½’å‡½æ•°çš„å‚æ•°ï¼Œæˆ–è€…ç”¨å¤–éƒ¨å˜é‡è®°å½•çš„æ–¹å¼ï¼Œæ¥è¾¾åˆ°é¢˜ç›®çš„è¦æ±‚ã€‚


def dfs(root):
    if not root: return
    dfs(root.left)
    dfs(root.right)
è€Œè¿”å›å€¼ã€å‚æ•°ã€å¤–éƒ¨å˜é‡æ˜¯ä¸å½±å“é€’å½’çš„è¿›è¡Œçš„ï¼ˆåªè¦æœ‰ä»¥ä¸Šä»£ç ï¼‰ï¼Œè¿™æ—¶å€™å°±æ˜¯å‘æŒ¥äººç±»æ™ºæ…§ï¼Œå¼€å§‹è®¾è®¡é€’å½’çš„æ—¶å€™ã€‚
è‡³å°‘å¯¹äºäºŒå‰æ ‘çš„é€’å½’ï¼Œæ¯ä¸ªé¢˜ç›®éƒ½å¯ä»¥è¿™ä¹ˆæƒ³ã€‚

å†å›å½’åˆ°æœ¬é¢˜ï¼Œæœ¬é¢˜çš„é€’å½’è®¾è®¡
é¦–å…ˆï¼Œæœ¬æ¥æˆ‘æƒ³ç”¨åŸæœ¬çš„å‡½æ•°maxPathSum()ç›´æ¥é€’å½’ï¼ˆèƒ½ç®€åˆ™ç®€ï¼‰ï¼Œä½†æ˜¯å‘ç°è¡Œä¸é€šï¼Œå› ä¸ºå§‹ç»ˆéœ€è¦ä¸€ä¸ªå¤–éƒ¨å˜é‡å‚ä¸æ¯”è¾ƒï¼Œæ›´æ–°æœ€å¤§å€¼ï¼Œç„¶åå°±å¦å¤–å†™äº†dfs()çš„å‡½æ•°ç”¨æ¥é€’å½’ã€‚

å…¶æ¬¡ï¼Œé€’å½’å‡½æ•°çš„å‚æ•°ï¼Œæœ¬é¢˜ä¸ç”¨æ”¹ï¼Œå› ä¸ºåªéœ€è¦ä¸€ä¸ªæ ¹èŠ‚ç‚¹éå†å®ŒäºŒå‰æ ‘å°±è¡Œï¼Œä¸”æœ€å¤§å€¼å¿…é¡»è¦éå†å®Œæ‰çŸ¥é“æ˜¯ä¸æ˜¯æœ€å¤§å€¼ã€‚æ‰€ä»¥æ˜¯dfs(root)å°±è¡Œã€‚

ç„¶åï¼Œé‰´äºç¬¬ä¸€ç‚¹çš„åˆ†æï¼Œè¿™é¢˜æˆ‘éœ€è¦ä¸€ä¸ªå¤–éƒ¨ï¼ˆå…¨å±€ï¼‰å˜é‡self.maxsumæ¥è®°å½•å½“å‰çš„æœ€å¤§è·¯å¾„å€¼ï¼Œå¹¶åœ¨é€’å½’çš„è¿‡ç¨‹ä¸­ä¸æ–­æ›´æ–°æœ€å¤§å€¼ã€‚

æœ€åï¼Œæœ¬é¢˜æœ€é‡è¦çš„å°±æ˜¯è¿”å›å€¼çš„è®¾è®¡ï¼Œé‰´äºæœ€å¼€å§‹çš„åˆ†æï¼Œå…¶å®è¿”å›å€¼æœ‰å’Œæ²¡æœ‰å¹¶ä¸å½±å“é€’å½’éå†èŠ‚ç‚¹ï¼Œä½†æ˜¯æœ¬é¢˜å¿…é¡»è¦å€Ÿç”¨è¿”å›å€¼æ¥åœ¨æ¯ä¸€å±‚é€’å½’ä¸­æ¯”è¾ƒè·¯å¾„çš„å¤§å°ï¼Œå› ä¸ºå¦‚æœä¸å°†è¿™ä¸ªè·¯å¾„çš„å¤§å°éšç€å‡½æ•°è¿”å›çš„è¯ï¼Œå¤–éƒ¨å˜é‡self.maxsumå°†ä¼šæ— æ³•æ¯ä¸€è½®æ¯”è¾ƒå’Œæ›´æ–°ã€‚
æ‰€ä»¥æœ¬é¢˜çš„è¿”å›å€¼ï¼Œè¿”å›è·¯å¾„çš„å¤§å°åº”è¯¥æ€ä¹ˆè®¾è®¡ï¼Ÿ
åœ¨æœ¬é¢˜ä¸­ï¼Œè¿™ä¸ªè·¯å¾„å¯ä»¥æ˜¯ä»»æ„ä¸€ä¸ªè·¯å¾„ï¼Œç”šè‡³å¯ä»¥åªæ˜¯ä¸€ä¸ªèŠ‚ç‚¹ï¼Œæ‰€ä»¥æˆ‘æ¯æ¬¡æ¯”è¾ƒçš„éƒ½æ˜¯å½“å‰èŠ‚ç‚¹çš„å·¦å­æ ‘å’Œå³å­æ ‘çš„å¤§å°ï¼Œé‚£ä¸ªå¤§é€‰å“ªä¸ªï¼Œç„¶åè¿˜è¦åŠ ä¸Šè¿™ä¸ªæ ¹èŠ‚ç‚¹çš„å€¼valï¼Œæœ€åä¸0ç›¸æ¯”è¾ƒï¼Œå› ä¸ºå¦‚æœè¿™ä¸ªæ ‘ææ¯”0è¿˜å°ï¼Œé‚£ä¸è¦ä¹Ÿç½¢ï¼Œç›´æ¥è¿”å›0ï¼Œè¦ä¸ç„¶æœ€å¤§å€¼è¿˜å‡å°äº†ã€‚

é€’å½’çš„å‡½æ•°è®¾è®¡å¥½äº†ï¼Œé‚£æœ¬é¢˜çš„ç­”æ¡ˆè¿˜æ²¡æœ‰å¾—åˆ°å•Šï¼Œä¹‹å‰çš„self.maxsumè¿˜æ²¡æœ‰ç”¨ï¼Œç°åœ¨æˆ‘ä»¬çŸ¥é“dfs(root)ä¸€å®šè¿”å›çš„æ˜¯å½“å‰èŠ‚ç‚¹ä»¥ä¸‹ï¼Œæ‰€åŒ…å«è·¯å¾„çš„æœ€å¤§å€¼(æœ‰å¯èƒ½ä¸º0)ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±æ¯è½®éƒ½æ¯”è¾ƒå¹¶è®°å½•ï¼Œself.maxsumä¸å·¦å­æ ‘ä¸å³å­æ ‘çš„æœ€å¤§å€¼åŠ ä¸Šå½“å‰èŠ‚ç‚¹çš„å€¼val(è¯´çš„æœ‰ç‚¹ä¹±)ï¼Œå³self.maxsum = max(self.maxsum, left + right + root.val)ã€‚

æœ€åå›åˆ°ä¸»å‡½æ•°ï¼Œè¿”å›self.maxsumå³å¯ï¼Œè€Œæ­¤æ—¶dfs()å‡½æ•°è¿”å›çš„æ˜¯æ ¹èŠ‚ç‚¹ä»¥ä¸‹æ‰€åŒ…å«è·¯å¾„çš„æœ€å¤§å€¼ã€‚

ä½œè€…ï¼š821218213
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/binary-tree-maximum-path-sum/solution/124di-gui-de-jing-sui-ji-lu-yi-xia-by-821218213/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚

class Solution:
    def maxPathSum(self, root: TreeNode) -> int:
        self.maxsum = float('-inf')
        def dfs(root):
            if not root: return 0
            left = dfs(root.left)
            right = dfs(root.right)
            self.maxsum = max(self.maxsum, left + right + root.val)
            return max(0, max(left, right) + root.val)
        print(dfs(root))
        return self.maxsum

ä½œè€…ï¼š821218213
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/binary-tree-maximum-path-sum/solution/124di-gui-de-jing-sui-ji-lu-yi-xia-by-821218213/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚